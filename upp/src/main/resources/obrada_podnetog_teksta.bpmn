<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0373mo1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:process id="obradaPodnetogTeksta" name="Obrada podnetog teksta PROCES" isExecutable="true">
    <bpmn:startEvent id="start" name="Start" camunda:initiator="aktivatorProcesa">
      <bpmn:outgoing>SequenceFlow_1n6nt72</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="odabirCasopisa" name="Izbor casopisa" camunda:assignee="${aktivatorProcesa}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="casopisi" label="Odaberite casopis" type="enum" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_07njovf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_101itpl</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1n6nt72" sourceRef="start" targetRef="preuzimanjeCasopisa" />
    <bpmn:sequenceFlow id="SequenceFlow_07njovf" sourceRef="preuzimanjeCasopisa" targetRef="odabirCasopisa" />
    <bpmn:serviceTask id="preuzimanjeCasopisa" name="Preuzimanje svih casopisa" camunda:class="com.ftn.upp.services.ImplementServicesCamunda.GetJournals">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">lista_casopisa = ["casopis1","casopis2","casopis3"];
ArrayList = Java.type("java.util.ArrayList");
instance = new ArrayList(lista_casopisa);
execution.setVariable("lista_casopisa", instance);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1n6nt72</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_07njovf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_101itpl" sourceRef="odabirCasopisa" targetRef="Task_0l8vpj5" />
    <bpmn:serviceTask id="Task_0l8vpj5" name="Provera da li je casopis open-access" camunda:class="com.ftn.upp.services.ImplementServicesCamunda.JournalOpenAccess">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">var openAccess = "";
execution.setVariable("openAccess", openAccess);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_101itpl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1fr1kp1</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1vun3ne" name="Da li je open-access?">
      <bpmn:incoming>SequenceFlow_1fr1kp1</bpmn:incoming>
      <bpmn:outgoing>da</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1iqe6ns</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1fr1kp1" sourceRef="Task_0l8vpj5" targetRef="ExclusiveGateway_1vun3ne" />
    <bpmn:sequenceFlow id="da" name="Da" sourceRef="ExclusiveGateway_1vun3ne" targetRef="Task_0nob6ie">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${openAccess == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_0nob6ie" name="Provera da li je clanarina autora aktivna" camunda:class="com.ftn.upp.services.ImplementServicesCamunda.MempershipActive">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">var clanarinaAktivna= "";
execution.setVariable("clanarinaAktivna", clanarinaAktivna);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>da</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1q4qu23</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0bwn0kj" name="Clanarina aktivna?">
      <bpmn:incoming>SequenceFlow_1q4qu23</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0vri7cz</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0pnd9qp</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1q4qu23" sourceRef="Task_0nob6ie" targetRef="ExclusiveGateway_0bwn0kj" />
    <bpmn:subProcess id="uplataClanarine" name="Uplata clanarine">
      <bpmn:incoming>SequenceFlow_0vri7cz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1t9mimm</bpmn:outgoing>
      <bpmn:startEvent id="StartEvent_1hzhduz">
        <bpmn:outgoing>SequenceFlow_0g6to1j</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:serviceTask id="Task_0bu27iv" name="Provera uplate clanarine" camunda:class="com.ftn.upp.services.ImplementServicesCamunda.MempershipActive">
        <bpmn:incoming>SequenceFlow_07wll4u</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_031iu34</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_0g6to1j" sourceRef="StartEvent_1hzhduz" targetRef="uplatiteClanarinu" />
      <bpmn:userTask id="uplatiteClanarinu" name="Potrebno je uplatiti clanarinu" camunda:assignee="${aktivatorProcesa}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="uplata" label="Potrebno je da uplatite clanarinu" type="boolean" />
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0g6to1j</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0sltwrw</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:endEvent id="EndEvent_0u6da0a">
        <bpmn:incoming>SequenceFlow_031iu34</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="Task_1p3yfu4" name="Uplata clanarine" camunda:expression="${true}">
        <bpmn:extensionElements>
          <camunda:executionListener event="end">
            <camunda:script scriptFormat="javascript">execution.setVariable("clanarinaAktivna", "true");</camunda:script>
          </camunda:executionListener>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0sltwrw</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_07wll4u</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_0sltwrw" sourceRef="uplatiteClanarinu" targetRef="Task_1p3yfu4" />
      <bpmn:sequenceFlow id="SequenceFlow_07wll4u" sourceRef="Task_1p3yfu4" targetRef="Task_0bu27iv" />
      <bpmn:sequenceFlow id="SequenceFlow_031iu34" sourceRef="Task_0bu27iv" targetRef="EndEvent_0u6da0a" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="SequenceFlow_0vri7cz" name="Ne" sourceRef="ExclusiveGateway_0bwn0kj" targetRef="uplataClanarine">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${clanarinaAktivna == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="unosenjeInformacijaORadu" name="Unosenje osnovnih informacija o radu" camunda:assignee="${aktivatorProcesa}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov" type="string" />
          <camunda:formField id="apstrakt" label="Apstrakt" type="string" />
          <camunda:formField id="kljucniPojmovi" label="Kljucni pojmovi" type="string" />
          <camunda:formField id="naucnaOblast" label="Naucna oblast" type="enum" />
          <camunda:formField id="pdf" label="PDF fajl" type="string" />
          <camunda:formField id="brKoautora" label="Broj koautora" type="long" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_18l7q7h</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1muyoze</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_1wf8gcz" name="Odabir glavnog urednika" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">var glavni_urednik = "urednik";
execution.setVariable("glavni_urednik", glavni_urednik);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_11j6u15</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0qk7fr3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1tfn98d" name="Cuvanje podataka o radu" camunda:class="com.ftn.upp.services.ImplementServicesCamunda.SaveWork">
      <bpmn:incoming>SequenceFlow_158wevy</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1muyoze</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1dzk5w1</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1j1og84" name="Slanje emaila" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0qk7fr3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0bsn3ot</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics>
        <bpmn:loopCardinality xsi:type="bpmn:tFormalExpression">2</bpmn:loopCardinality>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0qk7fr3" sourceRef="Task_1wf8gcz" targetRef="Task_1j1og84" />
    <bpmn:userTask id="obradaRadova" name="Obrada pristiglih radova" camunda:assignee="${glavni_urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov" type="string" />
          <camunda:formField id="apstrakt" label="Apstrakt" type="string" />
          <camunda:formField id="kljucniPojmovi" label="Kljucni pojmovi" type="string" />
          <camunda:formField id="relevantan" label="Relevantan je" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0bsn3ot</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ynzq0m</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0bsn3ot" sourceRef="Task_1j1og84" targetRef="obradaRadova" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_186ngxq" name="Rad je relevantan?">
      <bpmn:incoming>SequenceFlow_0ynzq0m</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_116adfb</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_107d92x</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0ynzq0m" sourceRef="obradaRadova" targetRef="ExclusiveGateway_186ngxq" />
    <bpmn:sequenceFlow id="SequenceFlow_116adfb" name="Ne" sourceRef="ExclusiveGateway_186ngxq" targetRef="Task_1l3z6md">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${relevantan == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_1l3z6md" name="Odbijanje rada" camunda:assignee="${glavni_urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="kometarZaOdbijanjeRada" label="Odbijanje rada" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_116adfb</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_050xu1b</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Task_1xkuplb" name="Pregled obavestenja da rad nije relevantan" camunda:assignee="${aktivatorProcesa}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="kometarZaOdbijanjeRada" label="Vas rad nije prihvacen! " type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_050xu1b</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_05x6s42</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_050xu1b" sourceRef="Task_1l3z6md" targetRef="Task_1xkuplb" />
    <bpmn:endEvent id="EndEvent_0r0k3vu">
      <bpmn:incoming>SequenceFlow_05x6s42</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_05x6s42" sourceRef="Task_1xkuplb" targetRef="EndEvent_0r0k3vu" />
    <bpmn:sequenceFlow id="SequenceFlow_107d92x" name="Da" sourceRef="ExclusiveGateway_186ngxq" targetRef="Task_07tu9j8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${relevantan == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_07tu9j8" name="Pregled PDF fajla" camunda:assignee="${glavni_urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="pdf" label="PDF" type="string" />
          <camunda:formField id="pdfDobroFormatiran" label="PDF je dobro formatiran" type="boolean" />
          <camunda:formField id="komentar" label="Komentar za pdf" type="string" />
          <camunda:formField id="vremenskiPeriodZaIspravku" label="Vremenski period za ispravku" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_107d92x</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_04666uo</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1197nvh" name="PDF dobro formatiran?">
      <bpmn:incoming>SequenceFlow_04666uo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0nrvlx4</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1tu9606</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_04666uo" sourceRef="Task_07tu9j8" targetRef="ExclusiveGateway_1197nvh" />
    <bpmn:sequenceFlow id="SequenceFlow_0nrvlx4" name="Ne" sourceRef="ExclusiveGateway_1197nvh" targetRef="Task_1233dwa">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${pdfDobroFormatiran == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_1233dwa" name="Slanje emaila autoru za korekciju PDF-a" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">if(vremenskiPeriodZaIspravku==""){
    vremenskiPeriodZaIspravku= 30;
}</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0nrvlx4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13wz949</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_13wz949" sourceRef="Task_1233dwa" targetRef="Task_0moksjk" />
    <bpmn:userTask id="Task_0moksjk" name="Korekcija podataka o radu" camunda:assignee="${aktivatorProcesa}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentar" label="Komentar" type="string" />
          <camunda:formField id="naslov" label="Naslov" type="string" />
          <camunda:formField id="apstrakt" label="Apstrakt" type="string" />
          <camunda:formField id="kljucniPojmovi" label="Kljucni pojmovi" type="string" />
          <camunda:formField id="pdf" label="PDF" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_13wz949</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_158wevy</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_158wevy" sourceRef="Task_0moksjk" targetRef="Task_1tfn98d" />
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0ryh6b7" name="25s" attachedToRef="Task_0moksjk">
      <bpmn:outgoing>SequenceFlow_0n2ixgx</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1dr5tl7">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT${vremenskiPeriodZaIspravku}S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Task_1vsdzvg" name="Slanje emaila da je rad odbijen iz tehnickih razloga" camunda:expression="{true}">
      <bpmn:incoming>SequenceFlow_0n2ixgx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1oxy4na</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_076gvn6">
      <bpmn:incoming>SequenceFlow_1oxy4na</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1oxy4na" sourceRef="Task_1vsdzvg" targetRef="EndEvent_076gvn6" />
    <bpmn:sequenceFlow id="SequenceFlow_1tu9606" sourceRef="ExclusiveGateway_1197nvh" targetRef="Task_109arg5">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${pdfDobroFormatiran == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_109arg5" name="Izbor urednika naucne oblasti" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">var urednik_oblasti = "mary";

if(urednik_oblasti==""){
    urednik_oblasti= "urednik";
}

execution.setVariable("urednik_oblasti", urednik_oblasti);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1tu9606</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1hjfhcu</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0dxufw8" name="Slanje notifikacije uredniku o novom radu" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">recenzenti_ID = new java.util.ArrayList();
execution.setVariable("recenzenti_ID", recenzenti_ID);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1hjfhcu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ui496j</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1bxwgas" name="Preuzimanje liste recenzenata za dati casopis" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="Groovy">recenzenti_lista = execution.getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();

execution.setVariable("recenzenti_lista", recenzenti_lista);

String postoje_recenzenti = "false"

if(recenzenti_lista.size!=0){
   postoje_recenzenti = "true";
}
execution.setVariable("postoje_recenzenti", postoje_recenzenti);
execution.setVariable("brojac", 0);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ui496j</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ppxj0h</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1i0eo25" name="Postoje recenzenti za datu naucnu oblast?">
      <bpmn:incoming>SequenceFlow_0ppxj0h</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06vfdhg</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1chjvi7</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Task_0goylls" name="Obavljanje recenzije od strane glavnog urednika" camunda:assignee="${glavni_urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov" type="string" />
          <camunda:formField id="pdf" label="PDF" type="string" />
          <camunda:formField id="komentar" label="Komenatr" type="string" />
          <camunda:formField id="ocena" label="Ocena" type="long" />
          <camunda:formField id="preporukaZaObjavljivanje" label="Preporuka za objavljivanje rada" type="enum">
            <camunda:value id="prihvatiti" name="Prihvatiti" />
            <camunda:value id="prihvatitiUzManjeIspravke" name="Prihvatiti uz manje ispravke" />
            <camunda:value id="uslovnoPrihvatiti" name="Uslovno prihvatiti uz vece ispravke" />
            <camunda:value id="odbitiRad" name="Odbiti" />
          </camunda:formField>
          <camunda:formField id="komentarUredniku" label="Komentar uredniku" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1jrlov9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0bpqmj7</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Task_030mg1y" name="Izbor recenzenata" camunda:assignee="${urednik_oblasti}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="prekini" label="Dodaj jos jednog:" type="boolean" />
          <camunda:formField id="brojac" type="long" defaultValue="${brojac + 1}" />
          <camunda:formField id="recenzent" label="Recenzent ${brojac + 1}:" type="enum" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
recenzenti= task.getExecution().getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if( field.getId() == "recenzent"){
           //ovo je nase select polje
           items = field.getType().getValues();
           for(recenzent in recenzenti){
               items.put(recenzent.getId(),recenzent.getFirstName()+" "+recenzent.getLastName());
           }
       }
   }
}</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());

formFields = taskFormData.getFormFields();
if(formFields!=null){
   for(field in formFields){
       if(field.getId() == "recenzent"){
           if(field.getValue()!="none")
                listaRecenzenata.add(field.getValue());
       }
   }
}</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_193g2bv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1dz6g8p</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${recenzenti_lista}">
        <bpmn:loopCardinality xsi:type="bpmn:tFormalExpression">5</bpmn:loopCardinality>
        <bpmn:completionCondition xsi:type="bpmn:tFormalExpression">${brojac &gt;= 2 &amp;&amp; prekini == false}</bpmn:completionCondition>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:userTask>
    <bpmn:userTask id="Task_102mz57" name="Obavljanje recenzije" camunda:assignee="${recenzentID}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov" type="string" />
          <camunda:formField id="pdf" label="Pdf fajl" type="string" />
          <camunda:formField id="komentar" label="Komentar autoru" type="string" />
          <camunda:formField id="ocena" label="Ocena" type="long" />
          <camunda:formField id="preporukaZaObjavljivanje" label="Preporuka za objavljivanje rada" type="enum">
            <camunda:value id="prihvatiti" name="Prihvatiti" />
            <camunda:value id="prihvatitiUzManjeIspravke" name="Prihvatiti uz manje ispravke" />
            <camunda:value id="uslovnoPrihvatiti" name="Uslovno prihvatiti uz vece ispravke" />
            <camunda:value id="odbitiRad" name="Odbiti rad" />
          </camunda:formField>
          <camunda:formField id="komentarUredniku" label="Komentar uredniku" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1wer3lk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wq6ipt</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${listaRecenzenata}" camunda:elementVariable="recenzentID" />
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0d3pq8x" name="25s" attachedToRef="Task_102mz57">
      <bpmn:outgoing>SequenceFlow_11ojzxa</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT${vremeRecenziranja}S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Task_1b54a4r" name="Obavestenje recenzentu da treba da izvrsi recenziju" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_1os9ey5</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_18h67wn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wer3lk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0n2ixgx" sourceRef="IntermediateThrowEvent_0ryh6b7" targetRef="Task_1vsdzvg" />
    <bpmn:sequenceFlow id="SequenceFlow_11ojzxa" sourceRef="IntermediateThrowEvent_0d3pq8x" targetRef="Task_1xobngd" />
    <bpmn:serviceTask id="Task_1xobngd" name="Obavestenje uredniku da rezenziranje nije izvresno na vreme" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_11ojzxa</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0yh8u9s</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_02jbkfz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_1f439u6" name="Izbor novog recenzenta" camunda:assignee="${urednik_oblasti}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="recenzent" label="Recenzent" type="enum" />
          <camunda:formField id="vremeRecenziranja" label="Vreme recenziranja" type="long" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
recenzenti= task.getExecution().getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if( field.getId() == "recenzent"){
           //ovo je nase select polje
           items = field.getType().getValues();
           for(recenzent in recenzenti){
               items.put(recenzent.getId(),recenzent.getFirstName()+" "+recenzent.getLastName());
           }
       }
   }
}</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if(field.getId() == "recenzent"){
           if(field.getValue()!="none")
                listaRecenzenata.add(field.getValue());
       }
   }
}</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_02jbkfz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1os9ey5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_02jbkfz" sourceRef="Task_1xobngd" targetRef="Task_1f439u6" />
    <bpmn:sequenceFlow id="SequenceFlow_1os9ey5" sourceRef="Task_1f439u6" targetRef="Task_1b54a4r" />
    <bpmn:sequenceFlow id="SequenceFlow_1wq6ipt" sourceRef="Task_102mz57" targetRef="Task_1msvc3f" />
    <bpmn:sequenceFlow id="SequenceFlow_0o4f3y2" sourceRef="Task_1msvc3f" targetRef="Task_192860c" />
    <bpmn:serviceTask id="Task_1msvc3f" name="Obavestavanje urednika da je recenzija zavrsena" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_1wq6ipt</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0bpqmj7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0o4f3y2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_192860c" name="Obrada od strane urednika naucne oblasti" camunda:assignee="${urednik_oblasti}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentarUredniku" label="Kometar od strane recenzenta" type="string" />
          <camunda:formField id="ocena" label="Ocena recenzenta" type="long" />
          <camunda:formField id="rokIspravke" label="Rok ispravke" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="preporukaZaObjavljivanje" label="Preporuka recenzenta" type="string" />
          <camunda:formField id="konacnaOcena" label="Konacna ocena" type="enum">
            <camunda:value id="prihvatiti" name="Prihvatiti" />
            <camunda:value id="manjeIspravke" name="Prihvatiti uz manje ispravke" />
            <camunda:value id="veceIspravke" name="Uslovno prihvatiti uz vece ispravke" />
            <camunda:value id="odbiti" name="Odbiti" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0o4f3y2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1im7vby</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_14bdn3y">
      <bpmn:incoming>SequenceFlow_1im7vby</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0y21kf9</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_08tmvy6</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0k1ud99</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1im7vby" sourceRef="Task_192860c" targetRef="ExclusiveGateway_14bdn3y" />
    <bpmn:sequenceFlow id="SequenceFlow_0y21kf9" name="Prihvata se" sourceRef="ExclusiveGateway_14bdn3y" targetRef="Task_0zr5zlq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOcena == "prihvatiti"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_0zr5zlq" name="Slanje emaila autoru da je rad prihvacen" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0y21kf9</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1vm4ez7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0purqwu</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_08tmvy6" name="(Uslovno) prihvata uz izmene" sourceRef="ExclusiveGateway_14bdn3y" targetRef="Task_0o5xkqx">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOcena == "manjeIspravke" || konacnaOcena == "veceIspravke" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_0o5xkqx" name="Slanje notifikacije autoru" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">if(rokIspravke==""){
    rokIspravke = 30;
}</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_08tmvy6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0xclqbv</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0xclqbv" sourceRef="Task_0o5xkqx" targetRef="Task_0mfrn2y" />
    <bpmn:userTask id="Task_0mfrn2y" name="Ispravka rada" camunda:assignee="${aktivatorProcesa}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentar" label="Komentar od strane recenzenta" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="odgovor" label="Odgovor na komentar" type="string" />
          <camunda:formField id="pdf" label="pdf" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0xclqbv</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0wqtt8l</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1iy0df8</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_041apdg</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_1dukoha" attachedToRef="Task_0mfrn2y">
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT${rokIspravke}S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Task_1gxomkq" name="Slanje rada i obavestenja uredniku/recenzentu" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0rxx8m7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ubnrwp</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1npv5nk" name="Odbijanje rada obavestenje" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0k1ud99</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08udn6z</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0k1ud99" name="Odbija se" sourceRef="ExclusiveGateway_14bdn3y" targetRef="Task_1npv5nk">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOcena == "odbiti"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_1wg9luc">
      <bpmn:incoming>SequenceFlow_08udn6z</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_10b2iej</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_08udn6z" sourceRef="Task_1npv5nk" targetRef="EndEvent_1wg9luc" />
    <bpmn:sequenceFlow id="SequenceFlow_1iy0df8" sourceRef="Task_0mfrn2y" targetRef="Task_11t1fj2" />
    <bpmn:sequenceFlow id="SequenceFlow_10b2iej" sourceRef="Task_11t1fj2" targetRef="EndEvent_1wg9luc" />
    <bpmn:serviceTask id="Task_11t1fj2" name="Obavestenje da je istekao rok ispravke" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_1iy0df8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10b2iej</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0xqm2qu">
      <bpmn:incoming>SequenceFlow_1ubnrwp</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0l4b4jz</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1njr1ug</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_033gvn0</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1ubnrwp" sourceRef="Task_1gxomkq" targetRef="ExclusiveGateway_0xqm2qu" />
    <bpmn:userTask id="Task_0sjefbb" name="Urednik ponovo pregleda rad" camunda:assignee="${urednik_oblasti}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentarUredniku" label="Komentar od strane recenzenta namenjen uredniku" type="string" />
          <camunda:formField id="komentar" label="Komentar od strane recenzenta namenjen autoru" type="string" />
          <camunda:formField id="odgovor" label="Odgovor autora" type="string" />
          <camunda:formField id="pdf" label="PDF fajl" type="string" />
          <camunda:formField id="prihvataSe" label="Prihvata se" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0l4b4jz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_03nxber</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_0kt1b03" name="Obrada pregleda" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_03nxber</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1yvcmu8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_03nxber" sourceRef="Task_0sjefbb" targetRef="Task_0kt1b03" />
    <bpmn:serviceTask id="Task_05zu4hg" name="Dodela DOI-a i indeksiranje" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0purqwu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0pvi11b</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0purqwu" sourceRef="Task_0zr5zlq" targetRef="Task_05zu4hg" />
    <bpmn:endEvent id="EndEvent_06wwdbq">
      <bpmn:incoming>SequenceFlow_0abg7w5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0pvi11b" sourceRef="Task_05zu4hg" targetRef="Task_0w9ft76" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_1jsz17k">
      <bpmn:incoming>SequenceFlow_1yvcmu8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0wqtt8l</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1vm4ez7</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1yvcmu8" sourceRef="Task_0kt1b03" targetRef="ExclusiveGateway_1jsz17k" />
    <bpmn:sequenceFlow id="SequenceFlow_0wqtt8l" name="Odbijanje" sourceRef="ExclusiveGateway_1jsz17k" targetRef="Task_0mfrn2y">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${prihvataSe == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1vm4ez7" name="Prihvata se" sourceRef="ExclusiveGateway_1jsz17k" targetRef="Task_0zr5zlq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${prihvataSe == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0bpqmj7" sourceRef="Task_0goylls" targetRef="Task_1msvc3f" />
    <bpmn:boundaryEvent id="IntermediateThrowEvent_1813gv7" name="25s" attachedToRef="Task_0goylls">
      <bpmn:outgoing>SequenceFlow_0yh8u9s</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT${vremeRecenziranja}S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0yh8u9s" sourceRef="IntermediateThrowEvent_1813gv7" targetRef="Task_1xobngd" />
    <bpmn:sequenceFlow id="SequenceFlow_0l4b4jz" name="Manje ispravke" sourceRef="ExclusiveGateway_0xqm2qu" targetRef="Task_0sjefbb">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOcena == "manjeIspravke"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_06vfdhg" name="Da" sourceRef="ExclusiveGateway_1i0eo25" targetRef="Task_0dualbo">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${postoje_recenzenti == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_193g2bv" sourceRef="Task_0dualbo" targetRef="Task_030mg1y" />
    <bpmn:scriptTask id="Task_0dualbo" name="Kreiranje liste recenzenata" scriptFormat="javascript">
      <bpmn:incoming>SequenceFlow_06vfdhg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_193g2bv</bpmn:outgoing>
      <bpmn:script>var lista = new java.util.ArrayList();
execution.setVariable("listaRecenzenata", lista);</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_1wer3lk" sourceRef="Task_1b54a4r" targetRef="Task_102mz57" />
    <bpmn:sequenceFlow id="SequenceFlow_1hjfhcu" sourceRef="Task_109arg5" targetRef="Task_0dxufw8" />
    <bpmn:sequenceFlow id="SequenceFlow_0ui496j" sourceRef="Task_0dxufw8" targetRef="Task_1bxwgas" />
    <bpmn:userTask id="Task_13dh7xq" name="Zadavanje roka za recenziju" camunda:assignee="${urednik_oblasti}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="vremeRecenziranja" label="Rok za recenziju" type="long" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1chjvi7</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1njr1ug</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1jrlov9</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ppxj0h" sourceRef="Task_1bxwgas" targetRef="ExclusiveGateway_1i0eo25" />
    <bpmn:sequenceFlow id="SequenceFlow_1chjvi7" name="Ne" sourceRef="ExclusiveGateway_1i0eo25" targetRef="Task_13dh7xq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${postoje_recenzenti == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1jrlov9" sourceRef="Task_13dh7xq" targetRef="Task_0goylls" />
    <bpmn:userTask id="UserTask_1rt8j5i" name="Zadavanje roka za recenziju" camunda:assignee="${urednik_oblasti}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="vremeRecenziranja" label="Rok za recenziju" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1dz6g8p</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_033gvn0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_18h67wn</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1dz6g8p" sourceRef="Task_030mg1y" targetRef="UserTask_1rt8j5i" />
    <bpmn:sequenceFlow id="SequenceFlow_18h67wn" sourceRef="UserTask_1rt8j5i" targetRef="Task_1b54a4r" />
    <bpmn:sequenceFlow id="SequenceFlow_1njr1ug" name="Vece ispravke (urednik)" sourceRef="ExclusiveGateway_0xqm2qu" targetRef="Task_13dh7xq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOcena != "manjeIspravke" &amp;&amp; postoje_recenzenti == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_033gvn0" name="Vece ispravke (recenzenti)" sourceRef="ExclusiveGateway_0xqm2qu" targetRef="UserTask_1rt8j5i">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOcena != "manjeIspravke" &amp;&amp; postoje_recenzenti == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_1gr3pfp" name="Cuvanje rada" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_041apdg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0rxx8m7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_041apdg" sourceRef="Task_0mfrn2y" targetRef="Task_1gr3pfp" />
    <bpmn:sequenceFlow id="SequenceFlow_0rxx8m7" sourceRef="Task_1gr3pfp" targetRef="Task_1gxomkq" />
    <bpmn:sequenceFlow id="SequenceFlow_0abg7w5" sourceRef="Task_0w9ft76" targetRef="EndEvent_06wwdbq" />
    <bpmn:serviceTask id="Task_0w9ft76" name="Cuvanje rada" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0pvi11b</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0abg7w5</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0mfzfze" name="Dobavljanje naucnih oblasti" camunda:class="com.ftn.upp.services.ImplementServicesCamunda.GetScientificFields">
      <bpmn:incoming>SequenceFlow_1iqe6ns</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0pnd9qp</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1t9mimm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_18l7q7h</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1iqe6ns" name="Ne" sourceRef="ExclusiveGateway_1vun3ne" targetRef="Task_0mfzfze">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${openAccess == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0pnd9qp" name="Da" sourceRef="ExclusiveGateway_0bwn0kj" targetRef="Task_0mfzfze">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${clanarinaAktivna == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_18l7q7h" sourceRef="Task_0mfzfze" targetRef="unosenjeInformacijaORadu" />
    <bpmn:sequenceFlow id="SequenceFlow_1muyoze" sourceRef="unosenjeInformacijaORadu" targetRef="Task_1tfn98d" />
    <bpmn:userTask id="Task_0s0vio0" name="Dodavanje koautora" camunda:assignee="${aktivatorProcesa}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="imeKoautora" label="Ime koautora" type="string" />
          <camunda:formField id="prezimeKoautora" label="Prezime" type="string" />
          <camunda:formField id="emailKoautora" label="Email" type="string" />
          <camunda:formField id="gradKoautora" label="Grad" type="string" />
          <camunda:formField id="drzavaKoautora" label="Drzava" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1dzk5w1</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_11j6u15</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:loopCardinality xsi:type="bpmn:tFormalExpression">${brKoautora}</bpmn:loopCardinality>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1dzk5w1" sourceRef="Task_1tfn98d" targetRef="Task_0s0vio0" />
    <bpmn:sequenceFlow id="SequenceFlow_11j6u15" sourceRef="Task_0s0vio0" targetRef="Task_1wf8gcz" />
    <bpmn:sequenceFlow id="SequenceFlow_1t9mimm" sourceRef="uplataClanarine" targetRef="Task_0mfzfze" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="obradaPodnetogTeksta">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="start">
        <dc:Bounds x="179" y="669" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="185" y="712" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0zc8mvv_di" bpmnElement="odabirCasopisa">
        <dc:Bounds x="430" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1n6nt72_di" bpmnElement="SequenceFlow_1n6nt72">
        <di:waypoint x="215" y="687" />
        <di:waypoint x="260" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_07njovf_di" bpmnElement="SequenceFlow_07njovf">
        <di:waypoint x="360" y="687" />
        <di:waypoint x="430" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0zvog36_di" bpmnElement="preuzimanjeCasopisa">
        <dc:Bounds x="260" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_101itpl_di" bpmnElement="SequenceFlow_101itpl">
        <di:waypoint x="530" y="687" />
        <di:waypoint x="600" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1croetn_di" bpmnElement="Task_0l8vpj5">
        <dc:Bounds x="600" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1vun3ne_di" bpmnElement="ExclusiveGateway_1vun3ne" isMarkerVisible="true">
        <dc:Bounds x="815" y="662" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="807" y="719" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1fr1kp1_di" bpmnElement="SequenceFlow_1fr1kp1">
        <di:waypoint x="700" y="687" />
        <di:waypoint x="815" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1lhgt2n_di" bpmnElement="da">
        <di:waypoint x="865" y="687" />
        <di:waypoint x="960" y="687" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="905" y="669" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0htjwan_di" bpmnElement="Task_0nob6ie">
        <dc:Bounds x="960" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0bwn0kj_di" bpmnElement="ExclusiveGateway_0bwn0kj" isMarkerVisible="true">
        <dc:Bounds x="1165" y="662" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1166" y="719" width="48" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1q4qu23_di" bpmnElement="SequenceFlow_1q4qu23">
        <di:waypoint x="1060" y="687" />
        <di:waypoint x="1165" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_0wbcwz8_di" bpmnElement="uplataClanarine" isExpanded="true">
        <dc:Bounds x="1240" y="587" width="620" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1hzhduz_di" bpmnElement="StartEvent_1hzhduz">
        <dc:Bounds x="1272" y="669" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0vri7cz_di" bpmnElement="SequenceFlow_0vri7cz">
        <di:waypoint x="1215" y="687" />
        <di:waypoint x="1240" y="687" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1220" y="669" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0xeyqik_di" bpmnElement="Task_0bu27iv">
        <dc:Bounds x="1630" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0g6to1j_di" bpmnElement="SequenceFlow_0g6to1j">
        <di:waypoint x="1308" y="687" />
        <di:waypoint x="1340" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1x7eh1f_di" bpmnElement="uplatiteClanarinu">
        <dc:Bounds x="1340" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0u6da0a_di" bpmnElement="EndEvent_0u6da0a">
        <dc:Bounds x="1792" y="669" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1bwix52_di" bpmnElement="unosenjeInformacijaORadu">
        <dc:Bounds x="1500" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1svq982_di" bpmnElement="Task_1wf8gcz">
        <dc:Bounds x="1970" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0otb6cr_di" bpmnElement="Task_1tfn98d">
        <dc:Bounds x="1660" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0nvo426_di" bpmnElement="Task_1j1og84">
        <dc:Bounds x="2130" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0qk7fr3_di" bpmnElement="SequenceFlow_0qk7fr3">
        <di:waypoint x="2070" y="460" />
        <di:waypoint x="2130" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1xliexq_di" bpmnElement="obradaRadova">
        <dc:Bounds x="2260" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0bsn3ot_di" bpmnElement="SequenceFlow_0bsn3ot">
        <di:waypoint x="2230" y="460" />
        <di:waypoint x="2260" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_186ngxq_di" bpmnElement="ExclusiveGateway_186ngxq" isMarkerVisible="true">
        <dc:Bounds x="2395" y="435" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2391" y="397.5" width="58" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ynzq0m_di" bpmnElement="SequenceFlow_0ynzq0m">
        <di:waypoint x="2360" y="460" />
        <di:waypoint x="2395" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_116adfb_di" bpmnElement="SequenceFlow_116adfb">
        <di:waypoint x="2420" y="485" />
        <di:waypoint x="2420" y="587" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2428" y="555" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1dkzdm2_di" bpmnElement="Task_1l3z6md">
        <dc:Bounds x="2370" y="587" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1t2smo7_di" bpmnElement="Task_1xkuplb">
        <dc:Bounds x="2580" y="587" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_050xu1b_di" bpmnElement="SequenceFlow_050xu1b">
        <di:waypoint x="2470" y="627" />
        <di:waypoint x="2580" y="627" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0r0k3vu_di" bpmnElement="EndEvent_0r0k3vu">
        <dc:Bounds x="2742" y="609" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_05x6s42_di" bpmnElement="SequenceFlow_05x6s42">
        <di:waypoint x="2680" y="627" />
        <di:waypoint x="2742" y="627" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_107d92x_di" bpmnElement="SequenceFlow_107d92x">
        <di:waypoint x="2445" y="460" />
        <di:waypoint x="2540" y="460" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2485" y="442" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_12ad03i_di" bpmnElement="Task_07tu9j8">
        <dc:Bounds x="2540" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1197nvh_di" bpmnElement="ExclusiveGateway_1197nvh" isMarkerVisible="true">
        <dc:Bounds x="2695" y="435" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2692" y="492" width="55" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_04666uo_di" bpmnElement="SequenceFlow_04666uo">
        <di:waypoint x="2640" y="460" />
        <di:waypoint x="2695" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0nrvlx4_di" bpmnElement="SequenceFlow_0nrvlx4">
        <di:waypoint x="2720" y="435" />
        <di:waypoint x="2720" y="300" />
        <di:waypoint x="2380" y="300" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2562" y="309" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_14nq30r_di" bpmnElement="Task_1233dwa">
        <dc:Bounds x="2280" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13wz949_di" bpmnElement="SequenceFlow_13wz949">
        <di:waypoint x="2280" y="300" />
        <di:waypoint x="1980" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0fwu8jq_di" bpmnElement="Task_0moksjk">
        <dc:Bounds x="1880" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_158wevy_di" bpmnElement="SequenceFlow_158wevy">
        <di:waypoint x="1880" y="300" />
        <di:waypoint x="1710" y="300" />
        <di:waypoint x="1710" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_1ep289m_di" bpmnElement="IntermediateThrowEvent_0ryh6b7">
        <dc:Bounds x="1932" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1940" y="223" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0y4nbm5_di" bpmnElement="Task_1vsdzvg">
        <dc:Bounds x="1900" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_076gvn6_di" bpmnElement="EndEvent_076gvn6">
        <dc:Bounds x="2132" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1oxy4na_di" bpmnElement="SequenceFlow_1oxy4na">
        <di:waypoint x="2000" y="120" />
        <di:waypoint x="2132" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1tu9606_di" bpmnElement="SequenceFlow_1tu9606">
        <di:waypoint x="2745" y="460" />
        <di:waypoint x="2800" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1d8onel_di" bpmnElement="Task_109arg5">
        <dc:Bounds x="2800" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1yv5ukv_di" bpmnElement="Task_0dxufw8">
        <dc:Bounds x="2950" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0iq9s8y_di" bpmnElement="Task_1bxwgas">
        <dc:Bounds x="3120" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1i0eo25_di" bpmnElement="ExclusiveGateway_1i0eo25" isMarkerVisible="true">
        <dc:Bounds x="3335" y="435" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3327" y="494.5" width="66" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0u9lq6j_di" bpmnElement="Task_0goylls">
        <dc:Bounds x="4350" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0smy1w2_di" bpmnElement="Task_030mg1y">
        <dc:Bounds x="3600" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0og1xe4_di" bpmnElement="Task_102mz57">
        <dc:Bounds x="4100" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_12rx3dx_di" bpmnElement="IntermediateThrowEvent_0d3pq8x">
        <dc:Bounds x="4142" y="402" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4150" y="380" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1vj4dci_di" bpmnElement="Task_1b54a4r">
        <dc:Bounds x="3910" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0n2ixgx_di" bpmnElement="SequenceFlow_0n2ixgx">
        <di:waypoint x="1950" y="242" />
        <di:waypoint x="1950" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_11ojzxa_di" bpmnElement="SequenceFlow_11ojzxa">
        <di:waypoint x="4160" y="402" />
        <di:waypoint x="4160" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1liv717_di" bpmnElement="Task_1xobngd">
        <dc:Bounds x="4110" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1b6ivug_di" bpmnElement="Task_1f439u6">
        <dc:Bounds x="3910" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_02jbkfz_di" bpmnElement="SequenceFlow_02jbkfz">
        <di:waypoint x="4110" y="230" />
        <di:waypoint x="4010" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1os9ey5_di" bpmnElement="SequenceFlow_1os9ey5">
        <di:waypoint x="3960" y="270" />
        <di:waypoint x="3960" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1wq6ipt_di" bpmnElement="SequenceFlow_1wq6ipt">
        <di:waypoint x="4200" y="460" />
        <di:waypoint x="4260" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0o4f3y2_di" bpmnElement="SequenceFlow_0o4f3y2">
        <di:waypoint x="4360" y="460" />
        <di:waypoint x="4430" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_159hfcf_di" bpmnElement="Task_1msvc3f">
        <dc:Bounds x="4260" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0ol4ig5_di" bpmnElement="Task_192860c">
        <dc:Bounds x="4430" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_14bdn3y_di" bpmnElement="ExclusiveGateway_14bdn3y" isMarkerVisible="true">
        <dc:Bounds x="4595" y="435" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1im7vby_di" bpmnElement="SequenceFlow_1im7vby">
        <di:waypoint x="4530" y="460" />
        <di:waypoint x="4595" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0y21kf9_di" bpmnElement="SequenceFlow_0y21kf9">
        <di:waypoint x="4620" y="435" />
        <di:waypoint x="4620" y="380" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4622" y="403" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0du0h4r_di" bpmnElement="Task_0zr5zlq">
        <dc:Bounds x="4570" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_08tmvy6_di" bpmnElement="SequenceFlow_08tmvy6">
        <di:waypoint x="4645" y="460" />
        <di:waypoint x="4760" y="460" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4679" y="446" width="55" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_14b1m89_di" bpmnElement="Task_0o5xkqx">
        <dc:Bounds x="4760" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0xclqbv_di" bpmnElement="SequenceFlow_0xclqbv">
        <di:waypoint x="4860" y="460" />
        <di:waypoint x="4960" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1vvb4nz_di" bpmnElement="Task_0mfrn2y">
        <dc:Bounds x="4960" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0k9uq1o_di" bpmnElement="IntermediateThrowEvent_1dukoha">
        <dc:Bounds x="4992" y="482" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_14hk0hg_di" bpmnElement="Task_1gxomkq">
        <dc:Bounds x="5260" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1qy0g8e_di" bpmnElement="Task_1npv5nk">
        <dc:Bounds x="4570" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0k1ud99_di" bpmnElement="SequenceFlow_0k1ud99">
        <di:waypoint x="4620" y="485" />
        <di:waypoint x="4620" y="570" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4626" y="525" width="47" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1wg9luc_di" bpmnElement="EndEvent_1wg9luc">
        <dc:Bounds x="4792" y="592" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_08udn6z_di" bpmnElement="SequenceFlow_08udn6z">
        <di:waypoint x="4670" y="610" />
        <di:waypoint x="4792" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1iy0df8_di" bpmnElement="SequenceFlow_1iy0df8">
        <di:waypoint x="5010" y="500" />
        <di:waypoint x="5010" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_10b2iej_di" bpmnElement="SequenceFlow_10b2iej">
        <di:waypoint x="4960" y="610" />
        <di:waypoint x="4828" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1ohnrwq_di" bpmnElement="Task_11t1fj2">
        <dc:Bounds x="4960" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0xqm2qu_di" bpmnElement="ExclusiveGateway_0xqm2qu" isMarkerVisible="true">
        <dc:Bounds x="5415" y="435" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ubnrwp_di" bpmnElement="SequenceFlow_1ubnrwp">
        <di:waypoint x="5360" y="460" />
        <di:waypoint x="5415" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0kv5wvg_di" bpmnElement="Task_0sjefbb">
        <dc:Bounds x="5390" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0shiute_di" bpmnElement="Task_0kt1b03">
        <dc:Bounds x="5130" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_03nxber_di" bpmnElement="SequenceFlow_03nxber">
        <di:waypoint x="5390" y="320" />
        <di:waypoint x="5230" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0uojhsg_di" bpmnElement="Task_05zu4hg">
        <dc:Bounds x="4570" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0purqwu_di" bpmnElement="SequenceFlow_0purqwu">
        <di:waypoint x="4620" y="300" />
        <di:waypoint x="4620" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_06wwdbq_di" bpmnElement="EndEvent_06wwdbq">
        <dc:Bounds x="4842" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0pvi11b_di" bpmnElement="SequenceFlow_0pvi11b">
        <di:waypoint x="4670" y="210" />
        <di:waypoint x="4700" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1jsz17k_di" bpmnElement="ExclusiveGateway_1jsz17k" isMarkerVisible="true">
        <dc:Bounds x="4985" y="295" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1yvcmu8_di" bpmnElement="SequenceFlow_1yvcmu8">
        <di:waypoint x="5130" y="320" />
        <di:waypoint x="5035" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0wqtt8l_di" bpmnElement="SequenceFlow_0wqtt8l">
        <di:waypoint x="5010" y="345" />
        <di:waypoint x="5010" y="420" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="5002" y="380" width="47" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1vm4ez7_di" bpmnElement="SequenceFlow_1vm4ez7">
        <di:waypoint x="4985" y="320" />
        <di:waypoint x="4670" y="320" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4800" y="302" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0bpqmj7_di" bpmnElement="SequenceFlow_0bpqmj7">
        <di:waypoint x="4400" y="170" />
        <di:waypoint x="4400" y="295" />
        <di:waypoint x="4310" y="295" />
        <di:waypoint x="4310" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_1holgsv_di" bpmnElement="IntermediateThrowEvent_1813gv7">
        <dc:Bounds x="4332" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4302.5" y="163" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0yh8u9s_di" bpmnElement="SequenceFlow_0yh8u9s">
        <di:waypoint x="4350" y="188" />
        <di:waypoint x="4350" y="200" />
        <di:waypoint x="4210" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0l4b4jz_di" bpmnElement="SequenceFlow_0l4b4jz">
        <di:waypoint x="5440" y="435" />
        <di:waypoint x="5440" y="360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="5400" y="395" width="74" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06vfdhg_di" bpmnElement="SequenceFlow_06vfdhg">
        <di:waypoint x="3385" y="460" />
        <di:waypoint x="3450" y="460" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3411" y="442" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_193g2bv_di" bpmnElement="SequenceFlow_193g2bv">
        <di:waypoint x="3550" y="460" />
        <di:waypoint x="3600" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_0hozdez_di" bpmnElement="Task_0dualbo">
        <dc:Bounds x="3450" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1wer3lk_di" bpmnElement="SequenceFlow_1wer3lk">
        <di:waypoint x="4010" y="460" />
        <di:waypoint x="4100" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1hjfhcu_di" bpmnElement="SequenceFlow_1hjfhcu">
        <di:waypoint x="2900" y="460" />
        <di:waypoint x="2950" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ui496j_di" bpmnElement="SequenceFlow_0ui496j">
        <di:waypoint x="3050" y="460" />
        <di:waypoint x="3120" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0x18z86_di" bpmnElement="Task_13dh7xq">
        <dc:Bounds x="3310" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ppxj0h_di" bpmnElement="SequenceFlow_0ppxj0h">
        <di:waypoint x="3220" y="460" />
        <di:waypoint x="3335" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1chjvi7_di" bpmnElement="SequenceFlow_1chjvi7">
        <di:waypoint x="3360" y="435" />
        <di:waypoint x="3360" y="170" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3343" y="380" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1jrlov9_di" bpmnElement="SequenceFlow_1jrlov9">
        <di:waypoint x="3410" y="130" />
        <di:waypoint x="4350" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1rt8j5i_di" bpmnElement="UserTask_1rt8j5i">
        <dc:Bounds x="3740" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1dz6g8p_di" bpmnElement="SequenceFlow_1dz6g8p">
        <di:waypoint x="3700" y="460" />
        <di:waypoint x="3740" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_18h67wn_di" bpmnElement="SequenceFlow_18h67wn">
        <di:waypoint x="3840" y="460" />
        <di:waypoint x="3910" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1njr1ug_di" bpmnElement="SequenceFlow_1njr1ug">
        <di:waypoint x="5465" y="460" />
        <di:waypoint x="5540" y="460" />
        <di:waypoint x="5540" y="60" />
        <di:waypoint x="3360" y="60" />
        <di:waypoint x="3360" y="90" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="5524" y="257" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_033gvn0_di" bpmnElement="SequenceFlow_033gvn0">
        <di:waypoint x="5440" y="485" />
        <di:waypoint x="5440" y="680" />
        <di:waypoint x="3790" y="680" />
        <di:waypoint x="3790" y="500" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="5406" y="561" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_02togl2_di" bpmnElement="Task_1gr3pfp">
        <dc:Bounds x="5110" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_041apdg_di" bpmnElement="SequenceFlow_041apdg">
        <di:waypoint x="5060" y="460" />
        <di:waypoint x="5110" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0rxx8m7_di" bpmnElement="SequenceFlow_0rxx8m7">
        <di:waypoint x="5210" y="460" />
        <di:waypoint x="5260" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0abg7w5_di" bpmnElement="SequenceFlow_0abg7w5">
        <di:waypoint x="4800" y="210" />
        <di:waypoint x="4842" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1hi2mzs_di" bpmnElement="Task_0w9ft76">
        <dc:Bounds x="4700" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1o0l1ey_di" bpmnElement="Task_1p3yfu4">
        <dc:Bounds x="1500" y="647" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0sltwrw_di" bpmnElement="SequenceFlow_0sltwrw">
        <di:waypoint x="1440" y="687" />
        <di:waypoint x="1500" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_07wll4u_di" bpmnElement="SequenceFlow_07wll4u">
        <di:waypoint x="1600" y="687" />
        <di:waypoint x="1630" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_031iu34_di" bpmnElement="SequenceFlow_031iu34">
        <di:waypoint x="1730" y="687" />
        <di:waypoint x="1792" y="687" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1ndwpod_di" bpmnElement="Task_0mfzfze">
        <dc:Bounds x="1320" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1iqe6ns_di" bpmnElement="SequenceFlow_1iqe6ns">
        <di:waypoint x="840" y="662" />
        <di:waypoint x="840" y="370" />
        <di:waypoint x="1320" y="370" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="848" y="513" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0pnd9qp_di" bpmnElement="SequenceFlow_0pnd9qp">
        <di:waypoint x="1190" y="662" />
        <di:waypoint x="1190" y="460" />
        <di:waypoint x="1370" y="460" />
        <di:waypoint x="1370" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1273" y="442" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_18l7q7h_di" bpmnElement="SequenceFlow_18l7q7h">
        <di:waypoint x="1420" y="370" />
        <di:waypoint x="1500" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1muyoze_di" bpmnElement="SequenceFlow_1muyoze">
        <di:waypoint x="1600" y="370" />
        <di:waypoint x="1660" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1nns7gz_di" bpmnElement="Task_0s0vio0">
        <dc:Bounds x="1810" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1dzk5w1_di" bpmnElement="SequenceFlow_1dzk5w1">
        <di:waypoint x="1710" y="410" />
        <di:waypoint x="1710" y="460" />
        <di:waypoint x="1810" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_11j6u15_di" bpmnElement="SequenceFlow_11j6u15">
        <di:waypoint x="1910" y="460" />
        <di:waypoint x="1970" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1t9mimm_di" bpmnElement="SequenceFlow_1t9mimm">
        <di:waypoint x="1550" y="587" />
        <di:waypoint x="1550" y="499" />
        <di:waypoint x="1400" y="499" />
        <di:waypoint x="1400" y="410" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
